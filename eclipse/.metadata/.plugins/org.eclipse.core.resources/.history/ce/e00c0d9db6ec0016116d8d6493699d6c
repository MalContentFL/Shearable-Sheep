package malcontentfl.shearablesheep.renderers.entity;

import java.util.Random;
import java.util.concurrent.ThreadLocalRandom;

import malcontentfl.shearablesheep.entities.EntityShearableSheep;
import net.minecraftforge.fml.relauncher.Side;
import net.minecraftforge.fml.relauncher.SideOnly;

@SideOnly(Side.SERVER)
public class OffspringLogic
{
	private EntityShearableSheep father, mother;
	
	private double breedability = 0.5, mutationChance = 0.01;
    private int[] bounty = new int[]{1,3}, appetite = new int[]{1,1};
    private int drive = 600; //Unused currently. Left in in case of future changes
	
	public OffspringLogic(EntityShearableSheep father, EntityShearableSheep mother)
	{
		if (father.getBreedability() < 0)
		{
			this.father = new EntityShearableSheep(father.getEntityWorld(), 0.00, father.getBounty(), father.getAppetite(), father.getMutationChance(), father.getDrive());
		}
		else
		{
			this.father = father;
		}
		if (mother.getBreedability() < 0)
		{
			this.mother = new EntityShearableSheep(mother.getEntityWorld(), 0.00, mother.getBounty(), mother.getAppetite(), mother.getMutationChance(), mother.getDrive());
		}
		else
		{
			this.mother = mother;
		}
		
		runLogic();
	}
	
	private void runLogic()
	{
		breedability = ((father.getBreedability() + mother.getBreedability()) / 2) + randDouble(-0.15, 0.15);
	}
	
	private static int randInt(int min, int max)
	{
	    Random rand = new Random();
	    return rand.nextInt((max - min) + 1) + min;
	}
	
	private static double randDouble(double rangeMin, double rangeMax)
	{
	    Random r = new Random();
	    return rangeMin + (rangeMax - rangeMin) * r.nextDouble();
	}
}
